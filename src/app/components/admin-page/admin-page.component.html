<div class="wrapper container-fluid d-flex flex-row">
  <div class="sidebar d-flex flex-column">
    <h4><i class="fas fa-user"></i> Admin panel</h4>
    <hr style="margin: 0 auto;" />
    <div class="buttonContainer d-flex flex-column">
      <button (click)="setActiveContent(1)">Produkti</button>
      <button (click)="setActiveContent(2)">
        Narudžbine
      </button>
    </div>
    <hr style="margin: 0 auto;" />
  </div>
  <div class="content">
    <div class="addressType" *ngIf="activeContent === 1">
      <h4>Kreirajte proizvod</h4>
      <form [formGroup]="productForm">
        <div class="form-group">
          <input
            id="name"
            type="text"
            [ngClass]="
              name.invalid && name.touched
                ? 'formControlInvalid'
                : 'formControlValid'
            "
            formControlName="name"
            placeholder="Naziv proizvoda"
          />
          <div *ngIf="name.errors && name.touched" class="mt-1">
            <span *ngIf="name.errors.required">
              Unesite naziv proizvoda
            </span>
          </div>
        </div>
        <div class="form-group">
          <input
            type="text"
            [ngClass]="
              price.invalid && price.touched
                ? 'formControlInvalid'
                : 'formControlValid'
            "
            formControlName="price"
            placeholder="Cena"
          />
          <div *ngIf="price.errors && price.touched" class="mt-1">
            <span *ngIf="price.errors.required">
              Unesite cenu proizvoda
            </span>
          </div>
        </div>
        <div class="form-group">
          <select
            class="custom-select"
            [ngClass]="
              gender.invalid && gender.touched
                ? 'formControlInvalid'
                : 'formControlValid'
            "
            formControlName="gender"
            (change)="changeGender($event)"
          >
            <option value="" disabled
              >Izaberite pol za koji je produkt namenjen</option
            >
            <option *ngFor="let gender of genders" [ngValue]="gender">{{
              gender
            }}</option>
          </select>
          <div *ngIf="gender.errors && gender.touched" class="mt-1">
            <span *ngIf="gender.errors.required">
              Izaberite pol za koji je produkt namenjen
            </span>
          </div>
        </div>
        <div class="form-group">
          <select
            class="custom-select"
            formControlName="category"
            [ngClass]="
              category.invalid && category.touched
                ? 'formControlInvalid'
                : 'formControlValid'
            "
            (change)="changeCategory($event)"
          >
            <option value="" disabled>Izaberite kategoriju produkta</option>
            <option *ngFor="let category of categories" [ngValue]="category">{{
              category
            }}</option>
          </select>
          <div *ngIf="category.errors && category.touched" class="mt-1">
            <span *ngIf="category.errors.required">
              Izaberite kategoriju proizvoda
            </span>
          </div>
        </div>
        <div class="form-group">
          <select
            class="custom-select"
            formControlName="color"
            [ngClass]="
              color.invalid && color.touched
                ? 'formControlInvalid'
                : 'formControlValid'
            "
            (change)="changeColor($event)"
          >
            <option value="">Izaberite boju produkta</option>
            <option *ngFor="let color of colors" [ngValue]="color">{{
              color
            }}</option>
          </select>
          <div *ngIf="color.errors && color.touched" class="mt-1">
            <span *ngIf="color.errors.required">
              Izaberite boju proizvoda
            </span>
          </div>
        </div>
        <div class="form-group">
          <input
            type="text"
            [ngClass]="
              size.invalid && size.touched
                ? 'formControlInvalid'
                : 'formControlValid'
            "
            formControlName="size"
            placeholder="Dostupne veličine proizvoda (zapišite u formatu XS,S,M,...)"
          />
          <div *ngIf="size.errors && size.touched" class="mt-1">
            <span *ngIf="size.errors.required">
              Unesite veličine proizvoda ili proverite da li ste ih zapisali u
              korektnom formatu
            </span>
          </div>
        </div>
        <div class="form-group">
          <input
            type="text"
            [ngClass]="
              caption.invalid && caption.touched
                ? 'formControlInvalid'
                : 'formControlValid'
            "
            formControlName="caption"
            placeholder="Opis proizvoda"
          />
          <div *ngIf="caption.errors && caption.touched" class="mt-1">
            <span *ngIf="caption.errors.required">
              Unesite opis proizvoda
            </span>
          </div>
        </div>
        <div class="form-group">
          <input
            type="text"
            [ngClass]="
              composition.invalid && composition.touched
                ? 'formControlInvalid'
                : 'formControlValid'
            "
            formControlName="composition"
            placeholder="Sastav proizvoda"
          />
          <div *ngIf="composition.errors && composition.touched" class="mt-1">
            <span *ngIf="composition.errors.required">
              Unesite sastav proizvoda
            </span>
          </div>
        </div>
        <!-- <div class="imageUploadContainer d-flex flex-row">
          <label>
            <span>Izaberite naslovnu sliku proizvoda</span>
            <input
              #imageInput
              type="file"
              accept="image/*"
              (change)="processFile(imageInput)"
            />
          </label>

          <label>
            <span>Izaberite 4 slike proizvoda</span>
            <input
              type="file"
              accept="image/*"
              (change)="processFiles($event)"
              multiple
            />
          </label>
        </div> -->

        <div
          class="imageUploadContainer d-flex flex-row justify-content-between"
        >
          <div>
            <label class="btn btn-secondary">
              <i class="fa fa-image"></i>
              Izaberite naslovnu sliku
              <input
                #imageInput
                type="file"
                style="display: none;"
                accept="image/*"
                (change)="processFile(imageInput)"
              />
            </label>
            <strong>Izabrano je: </strong><span>{{ avatarCount }} slika</span>
          </div>

          <div>
            <label class="btn btn-secondary">
              <i class="fa fa-image"></i> Izaberite 4 slike proizvoda<input
                type="file"
                style="display: none;"
                accept="image/*"
                multiple
                (change)="processFiles($event)"
              />
            </label>
            <strong>Izabrano je: </strong
            ><span>{{ productDetailsImages.length }} slika</span>
          </div>
        </div>
        <button
          class="btn btn-outline-secondary"
          type="submit"
          [disabled]="productForm.invalid"
          (click)="createProduct()"
        >
          Sačuvajte
        </button>
      </form>
    </div>
    <div class="orders" *ngIf="activeContent === 2">
      <h4>Moje narudžbine</h4>
    </div>
  </div>
</div>
